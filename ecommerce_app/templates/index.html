  {% extends 'base.html' %}

  {% block title %}READORA{% endblock %}

  {% block content %}

  <div class="d-flex align-items-center flex-wrap" style="margin: 20px;">
    <h6 class="me-2 mb-0">Genres :</h6>
    {% for genre in genres %}
      <a href="{{ genre.get_genre_url }}" class="me-2 text-decoration-none">
        <span style="font-size: 14px;">
          {{ genre.genre }}|
        </span>
      </a>
    {% endfor %}
  </div>


  <h5 style="text-align: center;text-decoration: underline;">LATEST RELEASES</h5>        
    <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-6 g-4">
      
      {% for book in page_obj%}
          <div class="col">
              <div class="card h-100" style="border: 1px solid black;">
                <a href="{{book.get_book_url}}"><img src="{{book.image.url}}" class="card-img-top" alt="loading" style="height: 300px;"></a>
                  <div class="card-body">
                    <a href="{{book.get_book_url}}" style="text-decoration: none;color: black;"><h5 class="card-title">{{book.title}}</h5></a>
                    <p class="card-text">{{book.author}}</p>
                    <p class="card-text">available copies: {{book.stock}}</p>
                    <div style="text-align: center;"><h6>{{book.price}}/-</h6></div>
                  </div>
              </div>
          </div>
      {% endfor%}

    </div>

    <div class="pagination">
      {% if page_obj.has_previous %}
        <a href="?page=1">&laquo; First</a>&nbsp;
        <a href="?page={{ page_obj.previous_page_number }}">Previous</a>&nbsp;
      {% endif %}
        
      <span>Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}</span>&nbsp;

      {% if page_obj.has_next %}
        <a href="?page={{ page_obj.next_page_number }}">Next</a>&nbsp;
        <a href="?page={{ page_obj.paginator.num_pages }}">Last &raquo;</a>&nbsp;
      {% endif %}
    </div>

    <footer class="bg-dark text-light text-center py-3 mt-5">
        <p>&copy; 2025 MySite | All Rights Reserved</p>
    </footer>
 {% endblock %}
